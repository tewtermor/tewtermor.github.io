import{_ as l,v as u,x as c,N as h,y as o,t as v}from"./entry.9d25ba16.js";const d={name:"pressure-canvas",data(){return{x:0,y:0,canvasLeft:null,canvasTop:null,currentLine:null,pressure:null,brushSize:15}},computed:{lineWidth(){return this.pressure*this.brushSize},brushCanvasSize(){return Math.ceil(this.brushSize*2.1/2)*2}},mounted(){this.canvas=this.$refs.canvas,this.canvasCtx=this.canvas.getContext("2d");const t=this.canvas.getBoundingClientRect();this.canvasLeft=t.left,this.canvasTop=t.top,this.resizeEvents(),window.addEventListener("resize",this.resizeEvents)},methods:{preventDefault(t){t.preventDefault()},resizeEvents(t){const{clientWidth:s,clientHeight:a,width:r,height:i}=this.canvas;(s!=r||a!=i)&&(this.canvas.width=s,this.canvas.height=a);const e=this.canvas.getBoundingClientRect();this.canvasLeft=e.left,this.canvasTop=e.top},upHandler(t){this.pressure=null,this.canvasCtx.closePath()},downHandler(t){this.x=t.clientX-this.canvasLeft,this.y=t.clientY-this.canvasTop,this.canvasCtx.beginPath()},changePressure({pressure:t}){this.pressure=t},processPen(t){t.buttons!=1&&t.buttons!=32||t.pointerType!="pen"||(this.changePressure(t),this.canvasCtx.strokeStyle="#572649",this.canvasCtx.lineWidth=this.lineWidth,this.canvasCtx.lineCap="round",this.canvasCtx.lineJoin="round",this.canvasCtx.quadraticCurveTo(this.x,this.y,t.clientX-this.canvasLeft,t.clientY-this.canvasTop),this.canvasCtx.moveTo(t.clientX-this.canvasLeft,t.clientY-this.canvasTop),this.canvasCtx.stroke(),this.x=t.clientX-this.canvasLeft,this.y=t.clientY-this.canvasTop)}}},p={class:"display-4"};function f(t,s,a,r,i,e){return v(),u("div",null,[c("canvas",{ref:"canvas",class:"p-canvas",style:{width:"100%"},onTouchstart:s[0]||(s[0]=h((...n)=>e.preventDefault&&e.preventDefault(...n),["prevent"])),onTouchmove:s[1]||(s[1]=h((...n)=>e.preventDefault&&e.preventDefault(...n),["prevent"])),onPointerup:s[2]||(s[2]=(...n)=>e.upHandler&&e.upHandler(...n)),onPointermove:s[3]||(s[3]=(...n)=>e.processPen&&e.processPen(...n)),onPointerdown:s[4]||(s[4]=(...n)=>e.downHandler&&e.downHandler(...n))},null,544),c("h1",p,"Pressure: "+o(i.pressure),1)])}const C=l(d,[["render",f],["__scopeId","data-v-4f515f89"]]);export{C as default};
